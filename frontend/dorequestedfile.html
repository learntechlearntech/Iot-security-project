<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>User Registration | Re-Encryption</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Segoe UI, Arial, sans-serif;
  background:#f4f6f8;
  color:#222;
}

header{
  background:#ffffff;
  padding:15px 40px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  box-shadow:0 2px 6px rgba(0,0,0,.08);
}
header h1{
  margin:0;
  font-size:26px;
  color:#c0392b;
  font-weight:600;
}
nav a{
  margin-left:25px;
  text-decoration:none;
  color:#333;
  font-weight:500;
}
nav a:hover{color:#c0392b}

.hero{
  position:relative;
  height:520px;
  width:90%;
  margin:30px auto;
  background:linear-gradient(rgba(24,45,94,.85), rgba(9,25,61,.85)),
  url('https://images.unsplash.com/photo-1535223289827-42f1e9919769')
  center/cover no-repeat;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  color:#fff;
  border-radius:12px;
}

.hero h2{
  font-size:38px;
  max-width:900px;
  line-height:1.3;
  font-weight:600;
}

.register-section{
  max-width:1000px;
  margin:50px auto;
  background:#fff;
  padding:40px;
  border-radius:10px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:40px;
  align-items:center;
}

.register-image img{
  width:100%;
}

.register-box h3{
  text-align:center;
  margin-bottom:30px;
  font-weight:500;
  letter-spacing:1px;
}

label{
  display:block;
  margin-bottom:6px;
}

input, select, textarea{
  width:100%;
  padding:10px;
  margin-bottom:18px;
  border:1px solid #ccc;
  border-radius:5px;
}

textarea{
  resize: none;
}

.btn-group{
  display:flex;
  gap:15px;
}

.btn-register{
  background:#2980b9;
  border:none;
  color:#fff;
  padding:10px 20px;
  border-radius:5px;
  cursor:pointer;
}

.btn-login{
  background:#27ae60;
  border:none;
  color:#fff;
  padding:10px 20px;
  border-radius:5px;
  cursor:pointer;
}

footer{
  background:#0c1a3a;
  color:#fff;
  text-align:center;
  padding:18px;
  margin-top:40px;
}

@media(max-width:800px){
  .register-section{
    grid-template-columns:1fr;
  }

table {
  border-collapse: collapse;
  font-size: 14px;
}

th, td {
  text-align: center;
}

tbody tr:nth-child(even) {
  background: #f2f2f2;
}
.btn-approve {
  background: #27ae60;
  color: #fff;
  border: none;
  padding: 6px 12px;
  border-radius: 4px;
  cursor: pointer;
}

.btn-reject {
  background: #e74c3c;
  color: #fff;
  border: none;
  padding: 6px 12px;
  border-radius: 4px;
  cursor: pointer;
}

.status-approved {
  color: green;
  font-weight: bold;
}

.status-rejected {
  color: red;
  font-weight: bold;
}

}
</style>
</head>

<body>

<header>
  <h1>Re-Encryption</h1>
  <nav>
    <a href="dohomepage.html">Home</a>
    <a href="douploadfile.html">Upload File</a>
    <a href="domyfile.html">My File</a>
    <a href="dorequestedfile.html">Requested File</a>
    <a href="dologout.html">Logout</a>
  </nav>
</header>

<section class="hero">
  <h2>
    A Proxy Re-Encryption Approach to Secure Data<br/>
    Sharing in the Internet of Things Based on Blockchain
  </h2>
</section>

<section class="register-section">
 <div class="register-box">
<h3 style="text-align:center">Requested Files</h3>

<table id="requestTable" border="1" width="100%" cellspacing="0" cellpadding="10">
  <thead style="background:#1e90ff;color:#fff">
    <tr>
      <th>File Name</th>
      <th>User Name</th>
      <th>Requested Time</th>
      <th>Status</th>
      <th>Approve</th>
      <th>Reject</th>
    </tr>
  </thead>
  <tbody>
    <!-- Rows added by JS -->
  </tbody>
</table>

</div>

</section>

<footer>
  Â© 2026 Re-Encryption Project | All Rights Reserved
</footer>

<script>
function loadRequestedFiles() {
  const tableBody = document.querySelector("#requestTable tbody");
  tableBody.innerHTML = "";

  // Demo requested files (or load from localStorage)
  const requests = JSON.parse(localStorage.getItem("requestedFiles")) || [
    {
      filename: "proxy new.txt",
      username: "Datauser",
      time: "2022/05/13 11:38:07",
      status: "Pending"
    },
    {
      filename: "proxy new.txt",
      username: "Datauser",
      time: "2022/05/13 11:40:23",
      status: "Pending"
    }
  ];

  requests.forEach((req, index) => {
    const row = `
      <tr>
        <td>${req.filename}</td>
        <td>${req.username}</td>
        <td>${req.time}</td>
        <td class="${req.status === 'Approved' ? 'status-approved' : req.status === 'Rejected' ? 'status-rejected' : ''}">
          ${req.status}
        </td>
        <td>
          <button class="btn-approve" onclick="approveRequest(${index})">Approve</button>
        </td>
        <td>
          <button class="btn-reject" onclick="rejectRequest(${index})">Reject</button>
        </td>
      </tr>
    `;
    tableBody.innerHTML += row;
  });

  localStorage.setItem("requestedFiles", JSON.stringify(requests));
}

function approveRequest(index) {
  const requests = JSON.parse(localStorage.getItem("requestedFiles"));
  requests[index].status = "Approved";
  localStorage.setItem("requestedFiles", JSON.stringify(requests));
  loadRequestedFiles();
}

function rejectRequest(index) {
  const requests = JSON.parse(localStorage.getItem("requestedFiles"));
  requests[index].status = "Rejected";
  localStorage.setItem("requestedFiles", JSON.stringify(requests));
  loadRequestedFiles();
}

// Load table on page load
loadRequestedFiles();
</script>
</body>
</html>
